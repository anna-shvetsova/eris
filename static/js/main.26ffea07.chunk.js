(this.webpackJsonperis=this.webpackJsonperis||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var o=n(1),c=n.n(o),r=n(7),i=n.n(r),a=(n(13),n(8)),u=n(3),d=n(2),l=c.a.createContext((function(t){return null})),s=function(t,e){var n=e.type,o=e.payload;switch(n){case"ADD_ITEM":return function(e){var n=e.id,o=e.title,c=t.todos;return Object(d.a)(Object(d.a)({},t),{},{todos:[].concat(Object(u.a)(c||[]),[{id:n,title:o}])})}(o);case"DELETE_ITEM":return function(e){var n=e.id,o=t.todos,c=t.doneCount;if(!o)return t;var r=o.findIndex((function(t){return t.id===n}));if(r<0)return t;var i=o[r].isDone;return Object(d.a)(Object(d.a)({},t),{},{todos:[].concat(Object(u.a)(o.slice(0,r)),Object(u.a)(o.slice(r+1))),doneCount:i?c-1:c})}(o);case"MARK_ITEM":return function(e){var n=e.id,o=e.isDone,c=t.todos,r=t.doneCount;if(!c)return t;var i=c.findIndex((function(t){return t.id===n}));if(i<0)return t;var a=c[i];return o===a.isDone?t:Object(d.a)(Object(d.a)({},t),{},{todos:[].concat(Object(u.a)(c.slice(0,i)),[Object(d.a)(Object(d.a)({},a),{},{isDone:o})],Object(u.a)(c.slice(i+1))),doneCount:r+(o?1:-1)})}(o);case"SET_FILTER":return Object(d.a)(Object(d.a)({},t),{},{filter:o});default:return t}},j=n(0),b=function(t){var e=t.todo,n=Object(o.useContext)(l),c=e.id,r=e.title,i=e.isDone;return Object(j.jsxs)(o.Fragment,{children:[Object(j.jsx)("p",{children:"".concat(i?"\u2705 ":"").concat(r)}),Object(j.jsx)("button",{onClick:function(){n({type:"MARK_ITEM",payload:{id:c,isDone:!i}})},children:i?"Undone":"Done"}),Object(j.jsx)("button",{onClick:function(){n({type:"DELETE_ITEM",payload:{id:c}})},children:"Delete"})]})},f=Object(o.memo)(b),O=Object(o.memo)((function(){for(var t=performance.now();performance.now()-t<1e3;);return null})),p=function(t){var e,n=Object(o.useReducer)(s,{todos:t.todos,filter:"all",doneCount:0}),c=Object(a.a)(n,2),r=c[0],i=r.todos,u=r.filter,d=r.doneCount,b=c[1];Object(o.useEffect)((function(){i&&0===i.length&&"all"!==u&&b({type:"SET_FILTER",payload:"all"})}));var p=Object(o.useCallback)((function(){var t=prompt("What to do?");t&&b({type:"ADD_ITEM",payload:{id:Date.now().toString(),title:t}})}),[]),h=Object(o.useCallback)((function(){b({type:"SET_FILTER",payload:"all"===u?"undone":"all"})}),[u]);return Object(j.jsx)(l.Provider,{value:b,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"".concat(d," / ").concat(i?i.length:0)}),Object(j.jsx)("ul",{children:null===i||void 0===i||null===(e=i.filter((function(t){return"undone"!==u||!t.isDone})))||void 0===e?void 0:e.map((function(t){return Object(j.jsx)("div",{children:Object(j.jsx)(f,{todo:t})},"".concat(t.id))}))}),Object(j.jsx)("button",{onClick:p,children:"Add"}),Object(j.jsx)("button",{onClick:h,children:"Show ".concat("all"===u?"undone":"all"," todos")}),Object(j.jsx)(O,{})]})})},h=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),o(t),c(t),r(t),i(t)}))};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(p,{})}),document.getElementById("root")),h()}},[[15,1,2]]]);
//# sourceMappingURL=main.26ffea07.chunk.js.map